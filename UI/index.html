<!DOCTYPE html>
<html>
<head>
    <!--Required Meta Tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Nurtri-aid provides food recommendations. Enter your diet restrictions, you get to know what you can eat">
    <meta name="robots" content="index, follow" />
    <!--Bootstrap CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
          integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <!--Javascripts: Jquery & BootstrapJS-->
   <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <title>Nutri-Aid :: Find the right foods for you</title>

    <style>
        .vertical-separator {
            width: 2px;
            background-color: hsl(184, 100%, 60%);
            height: inherit;
            margin-left: 10px;
            margin-right: 10px;
        }


        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 20px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-width: 1px;
            border-color: #7F152E;
            background: #A10115;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-width: 1px;
            border-color: #7F152E;
            background: #A10115;
            cursor: pointer;
        }

        label {
            color: #A10115;
            font-weight: bold;
        }

        .navbar a.active {
            border-top: solid 3px;
            border-bottom: solid 3px;
            border-color: #A10115;

            color: white;

        }

        .nav-item {
            padding: 8px 15px;
        }

        .navbar a:hover {
            border-top: solid 3px;
            border-bottom: solid 3px;
            border-color: #F0EFEA;

            color: white;
        }

        body {
            background-color: lightgray;
        }
        .tales {
            width: 100%;
        }
        .carousel-inner{
            width:100%;
            max-height: 400px !important;
        }
        .alertMessage{
             color: red; 
        }
    </style>
    <script type="text/javascript">
        $('.carousel').carousel('cycle',{
            interval: 1000
        });
        var url1 = "http://localhost:5000";
        $(document).ready(function(){

            $.ajax({
                url: url1,
                type: 'get',
                //  data: JSON.stringify(sendinfo),
                //  contentType: 'application/json',
                dataType: 'json',
                success: function (data) {
                    console.log(data);
                    $.each(data, function(index, val) {
                        console.log();

                        var $a = $('<a>').addClass("list-group-item list-group-item-action flex-column align-items-start")
                                         .append($('<div>').addClass("d-flex w-100 justify-content-between")
                                                            .append(
                                                                 $('<h5>').text(val["Food Name"]),
                                                               //  $('<small>').text("3 days ago")

                                                             ),
                                                  //  $('<p>').addClass("mb-1").text("Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit."),
                                                       $('<ul>').addClass("mb-1").append(
                                                            $('<li>').text("Energy (kcal): " + val["Energy (kcal) (kcal)"]),
                                                           $('<li>').text("Carbohydrate (g): " + val["Carbohydrate (g)"]),
                                                           $('<li>').text("Starch (g): " + val["Starch (g)"]),
                                                           $('<li>').text("Glucose (g):" + val["Glucose (g)"]),
                                                           $('<li>').text("Cholesterol (mg):" + val["Cholesterol (mg)"]),
                                                           $('<li>').text("Fat (g):" + val["Fat (g)"]),
                                                           $('<li>').text("Calcium (mg): " + val["Calcium (mg)"]),
                                                           $('<li>').text("Iron (mg):" + val["Iron (mg)"]),
                                                           $('<li>').text("Protein (g):" + val["Protein (g)"]),
                                                           $('<li>').text("Water (g):" + val["Water (g)"]),

                                                       ),


                        );
                       /* var $a = ' <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">\n' +
                            '                            <div class="d-flex w-100 justify-content-between">\n' +
                            '                                <h5 class="mb-1">' + val["Food Name"] + '</h5>\n' +
                            '                                <small>3 days ago</small>\n' +
                            '                            </div>\n' +
                            '                            <p class="mb-1">' +

                            '                                </p>\n' +
                            '                            <small>Donec id elit non mi porta.</small>\n' +
                            '                        </a>';
                        */
                    $('#dashboard_recommend').append($a);

                    });

                }
            });

        });
    </script>
    
</head>

<body>

<div>

    <nav class="navbar navbar-light m-2" style="background-color: #138d75 ;">
        <a class="navbar-brand" href="#">
            <img src="images/logo.png" width="75" height="75" alt="Nutri-aid food recommender">
            <span class="navbar-brand mb-0 h1" style="color:white; font-weight: bold; font-size:20px">NutriAid</span>
        </a>
        <div class="nav nav-pills mb-0 float-left" id="nav-tab-left" role="tablist" style="font-weight: 600; color:white">
            <a class="active nav-item text-white" id="nav-home-tab" data-toggle="tab" href="#home" role="tab"
               aria-controls="nav-home" aria-selected="true">Home</a>
            <a class="nav-item text-white" id="nav-about-tab" data-toggle="tab" href="#about" role="tab"
               aria-controls="nav-about" aria-selected="false">About</a>
            <a class="nav-item text-white" id="nav-dashboard-tab" data-toggle="tab" href="#dashboard" role="tab"
               aria-controls="nav-dashboard" aria-selected="false">Dashboard</a>
        </div>

        <div class="nav nav-pills mb-0 float-right" id="nav-tab" role="tablist" style="font-weight: 600; color:white">
            <a class="nav-item text-white" id="nav-signup-tab" data-toggle="modal" data-target="#signupModal" role="modal"
              aria-controls="nav-signup"  aria-selected="false">Sign Up</a>
            <a class="nav-item text-white" id="nav-signin-tab" data-toggle="modal" data-target="#signinModal" role="modal"
              aria-controls="nav-signin"  aria-selected="false" >Sign In</a>
            <div class="search-container">
                <input type="text" placeholder="Search.." name="search">
                <a class="nav-item text-white" id="nav-report-tab" data-toggle="tab" href="#search" role="tab"
               aria-controls="nav-search" aria-selected="false"><i class="fa fa-search"></i></a>
            </div>    

        </div>
    </nav>
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block w-100" src="images/raspberry.jpg"  alt="fruit diet, raspberry">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="images/cereal.jpg" alt="carbohydrate lover diet">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="images/haribo.jpg" alt="diabetic? no sugar?">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="images/strawberry.jpg" alt="Fruit diet, healthy">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="tab-content">
        <div class="tab-pane active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <p style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">
                Welcome!! Nutri-Aid is a cost-effective platform for helping individuals with their daily dietary needs.
                You can customize and choose what suits you best. Your personalized nutrition recommender is just few clicks away.
            </p>
        </div>
        <div class="tab-pane" id="about" role="tabpanel" aria-labelledby="about-tab">
            <div>
                <p style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">
                We, at Nutri-Aid, care about you and your health. Each person is unique - so is their dietary requirements. Though
                every product you buy has nutrition requirements in the backside of the box, it is not easy to read everything
                and find the food suitable for you. When you register in our system, you will answer a few simple questions about your
                dietary requirements. From those answers, we will recommend daily suggestions for you.
                </p>
            </div>
        </div>
        <div class="tab-pane" id="search" role="tabpanel" aria-labelledby="search-tab">
            search
        </div>
        <div class="tab-pane" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="rec-tab" data-toggle="tab" href="#rec" role="tab" aria-controls="rec" aria-selected="true">
                        Recommended Products
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">
                        Statistics
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="messages-tab" data-toggle="tab" href="#messages" role="tab" aria-controls="messages" aria-selected="false">
                        My Favorites
                    </a>
                </li>

            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                <div class="tab-pane active" id="rec" role="tabpanel" aria-labelledby="rec-tab">
                    <div class="list-group" id="dashboard_recommend">
                       <!-- <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">List group item heading</h5>
                                <small>3 days ago</small>
                            </div>
                            <p class="mb-1">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
                            <small>Donec id elit non mi porta.</small>
                        </a> -->

                    </div>

                </div>
                <div class="tab-pane" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    statistics

                </div>
                <div class="tab-pane" id="messages" role="tabpanel" aria-labelledby="messages-tab">
                    My favorites
                </div>

            </div>
          
        </div>
        <div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="signupModalCenterTitle" aria-hidden="true">
                <div  style="width:365px" class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="signupModal" style="color:#138d75">Sign Up</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                            <form action="javascript:signup();"> 
                                   <div> <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Name </span><br>
                                    <input type="text" id="nameInput" size="35" required style="margin-top:10px"> <br><br></div>
                                   
                                   <div> <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Email </span><br>
                                    <input type="email" id="emailInput" size="35" required oninput="document.getElementById('alertMessage').innerHTML=''" style="margin-top:10px"><br><br></div>
                                    
                                    <div> <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Password </span><br>                     
                                    <input type="password" id="passwordInput" size="35"required oninput="checkPassword()" style="margin-top:10px" onfocus="document.getElementById('password_constraints').style.setProperty('display', 'block')" onblur="document.getElementById('password_constraints').style.setProperty('display', 'none')"><br><br></div>
                                   
                                    <div style="margin-left:50px; border-radius: 10px; border: solid 2px; border-color: #138d75; background-color: white; padding:10px; position: absolute; width: 335px; display:none" id="password_constraints">
                                      
                                        <p>Strength: <progress id="security-value" max="6" value="0" > </progress><span id="security-message"></span> <br>                         
                                          <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" >Must Be Atleast 8 Characters<span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" id="lengthConstraint" ></span></span><br> 
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" >Must Contain 1 Uppercase Letter <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" id="uppercaseConstraint"></span></span> <br> 
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" >Must Contain 1 Lowercase Letter <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" id="lowercaseConstraint"></span></span><br>  
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Number <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" id="numberConstraint" </span></span><br> 
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Only Use A-z, 0-9, @, -, _, and .  <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" id="characterConstraint"></span></span><br> 
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Not Be Same As Email<span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;" id="emailConstraint"></span><br> 
                    
                                                    </div>
                                            
                                    <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Confirm Password </span><br>
                                    <input type="password" id="confirmPasswordInput" size="35" required style="margin-top:10px"  oninput="confirmPassword()"> <br><br>
                                    <p id="matchPassword" ></p>
              
                                    <button type="submit" id="submitbutton" class="btn" style="background-color: #138d75 ;color:white ; border-color:#A10115; margin-left: 35%; " >Sign Up</button>  
                                    
                                    <p class="alertMessage" id="alertMessage" style="margin-left:14%"></p>
<!--                                     <p style="margin-left:9%">Already Have an Account?<a href="#signinModal"> SignIn Here</a></p>
 -->                                  </form>
                    </div>
                    
                  </div>
                </div>
              </div>

              <div class="modal fade" id="signinModal" tabindex="-1" role="dialog" aria-labelledby="signinModalCenterTitle" aria-hidden="true">
                    <div  style="width:360px" class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="signinModal" style="color:#138d75">Sign In</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                                <form  action="javascript:signin();" > 
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Email </span><br>
                                        <input type="email" id="signinEmailInput" size="35" required style="margin-top:10px" oninput="document.getElementById('alertMessage').innerHTML=''"> <br><br>
                  
                                        <span  style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Password </span><br>
                                        <input type="password" id="signinPasswordInput" size="35" required style="margin-top:10px" oninput="document.getElementById('alertMessage').innerHTML=''"> <br><br>
                                      
                                        <button type="submit" id="signinSubmitButton" class="btn" style="margin-left:37%; background-color: #138d75 ;color:white ; border-color:#A10115 ">Sign In</button>
                            
                                         <p class="alertMessage" id="signinAlertMessage" style="margin-left:4%"> </p>
                               
                                        <a href="" style="margin-left:30%" >Forgot Password?</a><br>
                  
<!--                               <a href="signup.html" style="margin-left:15%" >Don't Have an Account?</a>
 -->                            </form>
                        </div>
                        
                      </div>
                    </div>
                  </div>
    </div>




</div>
<!-- Footer -->
<footer class="page-footer font-small special-color-dark pt-4">

  <!-- Footer Elements -->
  <div class="container">

    <!-- Social buttons -->
    <ul class="list-unstyled list-inline text-center">
      <li class="list-inline-item">
        <a class="btn-floating btn-fb mx-1">
          <i class="fab fa-facebook-f"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-tw mx-1">
          <i class="fab fa-twitter"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-gplus mx-1">
          <i class="fab fa-google-plus-g"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-li mx-1">
          <i class="fab fa-linkedin-in"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-dribbble mx-1">
          <i class="fab fa-dribbble"> </i>
        </a>
      </li>
    </ul>
    <!-- Social buttons -->
  </div>
  <!-- Footer Elements -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">Â© 2019 Copyright:
    <a href="https://nutri-aid.000webhostapp.com"> NutriAid</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->

</body>
<script>
        function checkPassword(){
          var password = document.getElementById("passwordInput").value;
          var email = document.getElementById('emailInput').value;
          var secure = 0;
          if(password.length>=8)
          {
            document.getElementById('lengthConstraint').innerHTML = ' &#10004';
            secure++;
          }
          else
          {
            document.getElementById('lengthConstraint').innerHTML = '';
          }
          if(password!=email)
          {
            document.getElementById('emailConstraint').innerHTML = ' &#10004';
            secure++;
          }
          else
          {
            document.getElementById('emailConstraint').innerHTML = '';
          }
        
          if(password.match(/[0-9]/))
          {
              document.getElementById('numberConstraint').innerHTML = ' &#10004';
              secure++;
          }
          else
          {
              document.getElementById('numberConstraint').innerHTML = '';
          }
          if(password.match(/^[A-Za-z0-9@_.-]+$/))
            {  
                document.getElementById('characterConstraint').innerHTML = ' &#10004';
                secure++;
            }
            else
            {
              document.getElementById('characterConstraint').innerHTML = '';
            }
            if(password.match(/[A-Z]/))
            {
              document.getElementById('uppercaseConstraint').innerHTML = ' &#10004';
              secure++;
        
            }
            else
            {
              document.getElementById('uppercaseConstraint').innerHTML = '';
            }
            if(password.match(/[a-z]/))
            {
              document.getElementById('lowercaseConstraint').innerHTML = ' &#10004';
              secure++;
        
            }
            else
            {
              document.getElementById('lowercaseConstraint').innerHTML = '';
            }
        
            if(password.length==0)
              {
                document.getElementById('security-message').innerHTML = '';
                secure = 0;
              }
            else if (secure<=3)
            {
              document.getElementById('security-message').innerHTML = 'Weak';
              document.getElementById('security-message').style.color = "red";
          
            }  
            else
            {
              document.getElementById('security-message').innerHTML = 'Strong';
              document.getElementById('security-message').style.color = 'green';
        
            }
            console.log(document.getElementById('security-value').value);
            document.getElementById('security-value').value = secure;
           
        
         
        }
        
        function confirmPassword()
        {
          var password = document.getElementById('passwordInput').value;
          var confirmPassword = document.getElementById('confirmPasswordInput').value;
          if(password!=confirmPassword)
          {
            document.getElementById("matchPassword").innerHTML = "Passwords Do Not Match";
            document.getElementById("matchPassword").style.color= "red";
            document.getElementById("matchPassword").style.marginLeft= "20%";
            
          }
          else  
          {
            document.getElementById("matchPassword").innerHTML = "Passwords Match";
            document.getElementById("matchPassword").style.color= "green";
            document.getElementById("matchPassword").style.marginLeft= "29%";
          }
        }
        
        function signup() 
      {
        const data = {
          'name' : document.getElementById('nameInput').value,
          'email' : document.getElementById('emailInput').value,
          'password' : document.getElementById('passwordInput').value
        }
        $.ajax({
          url: "http://localhost:3001/signup",
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify(data),
          success: function(res){
            const response = JSON.parse(res);
            if(response.authenticated == 'true')
                {
                  sessionStorage.setItem('user', data.email);
                  window.location = "index.html";
                }
            else if(response.authenticated == 'emailError')
               {
                 document.getElementById('alertMessage').innerHTML = "Account With Email Already Exists." ;
               }
        }})
    }

    function signin(){
      const data = {
          'email' : document.getElementById('signinEmailInput').value,
          'password' : document.getElementById('signinPasswordInput').value
        }
        $.ajax({
          url: "http://localhost:3001/signin",
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify(data),
          success: function(res){
           const response = JSON.parse(res);
           
            if(response.authenticated)
                {
                  sessionStorage.setItem('user', data.email);
                  window.location = "index.html";
                }
            else
            {
              document.getElementById('signinAlertMessage').innerHTML = "Incorrect Email or Password. Please Try Again." ;
            }    
            
        }})
      }

        </script>
</html>